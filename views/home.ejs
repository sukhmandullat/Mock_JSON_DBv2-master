<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/css/styles.css" />
    </head>

    <body>
     <div id="container">
        <center>
            <img id="image" src="/images/rdplogo.png" />
            <h4>Mock JSON Database Operations</h4>
        </center>

        <form id="addUserForm" method="POST" action="/users">
            <h4>Add User Form (POST HTTP method) </h4>

            <input type="text" id="username" placeholder="Username" required />

            <input type="text" id="first_name" placeholder="First Name:" required />

            <input type="text" id="email" placeholder="Email:" required />

            <button type="submit">Add User</button>

        </form>

        <form id="editUserForm" method="POST" action="/users/:id/update">
            <h4>Edit User Form (POST HTTP method) </h4>

            <input type="number" id="edit_id" placeholder="ID:" required />

            <input type="text" id="new_username" placeholder="New Username:" />

            <input type="text" id="new_first_name" placeholder="New First Name:" />

            <input type="text" id="new_email"  placeholder="New Email:" />

            <button type="submit" onclick="updateUser()">Edit User</button>

        </form>


        <form id="deleteUserForm" method="POST" action="/users/:id/delete" >
            <h4>Delete User Form<h4>

            <input type="text" id="delete_id" placeholder="User ID:" />
                
            <button type="submit" onclick="deleteUser()">Delete User</button>
        </form>
     </div>
    </body>

    <script>
        function updateUser(){

            //Grab the edit form
            const editUserForm = document.getElementById('editUserForm');

            //Grab id value from the form input
            const id = document.getElementById('edit_id').value;

            //Insert the id into the action attribute
            editUserForm.action = '/users/' + id + '/update';

            //Submit the form
            editUserForm.submit();

        }


        function deleteUser(){
            //Grab the delete user form
            const deleteUserForm = document.getElementById('deleteUserForm');

            //Grab the id from the input form
            const id = document.getElementById('delete_id');

            //Insert the id into the action attribute
            deleteUserForm.action = '/users/' + id + '/delete';

            //Submit the form
            deleteUserForm.submit();

        }

    </script>

</html>
